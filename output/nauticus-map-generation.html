<!DOCTYPE HTML>
<!--
	forked from:
	Dopetrope by HTML5 UP
	html5up.net | @n33co
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Using Cellular Automata to Create a Random Map Generator</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<!--[if lte IE 8]><script src="/theme/css/ie/html5shiv.js"></script><![endif]-->
        <script type="application/javascript">
            var FINAL_PARSEC_THEME_STATIC_DIR = '/theme' + '/';
        </script>
		<script src="/theme/js/jquery.min.js"></script>
		<script src="/theme/js/jquery.dropotron.min.js"></script>
		<script src="/theme/js/skel.min.js"></script>
		<script src="/theme/js/skel-layers.min.js"></script>
		<script src="/theme/js/init.js"></script>
		<noscript>
			<link rel="stylesheet" href="/theme/css/skel.css" />
			<link rel="stylesheet" href="/theme/css/style.css" />
			<link rel="stylesheet" href="/theme/css/style-desktop.css" />
		</noscript>
		<!--[if lte IE 8]><link rel="stylesheet" href="/theme/css/ie/v8.css" /><![endif]-->

        <!-- For Unity Web Player -->
        <script type="text/javascript" src="//webplayer.unity3d.com/download_webplayer-3.x/3.0/uo/UnityObject2.js"></script>
        <![if IE]>
        <script type='text/javascript'>
        if(/*@cc_on!@*/false)
        var bIsIE = 1;
        </script>
        <![endif]>
        <script language="javascript1.1" type="text/javascript">
            function detectUnityWebPlayer () {
                var tInstalled = false;
                if (typeof (bIsIE) != 'undefined') {
                    tInstalled = true;
                }
                if (navigator.userAgent.indexOf('MSIE') !== -1 || navigator.appVersion.indexOf('Trident/') > 0) {
                   // MSIE
                    tInstalled = true;
                }

                if (navigator.appVersion.indexOf("MSIE") != -1 &&
                    navigator.appVersion.toLowerCase().indexOf("win") != -1)
                {
                    tInstalled = detectUnityWebPlayerActiveX();
                }
                else if (navigator.mimeTypes && navigator.mimeTypes["application/vnd.unity"])
                {
                    if (navigator.mimeTypes["application/vnd.unity"].enabledPlugin &&
                        navigator.plugins && navigator.plugins["Unity Player"])
                    {
                        tInstalled = true;
                    }
                }
                return tInstalled;
            }
        </script>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-37270839-4', 'auto');
            ga('require', 'displayfeatures');
            ga('send', 'pageview');
        </script>
	</head>
<body class="right-sidebar">
<!-- Header -->
<div id="header-wrapper">
    <div id="header">

        <!-- Logo -->
        <h1><a href="/index.html">FINAL PARSEC</a></h1>

<!-- Nav -->
<nav id="nav">
    <ul>
        <li><a href="/index.html">Home</a></li>
        <li>
            <a href="#" onclick="return false;">Games</a>
            <ul>
                    <li><a href="/category/nauticus.html">Nauticus</a></li>
                    <li><a href="/category/space-snakes-legacy-earth.html">Space Snakes: Legacy Earth</a></li>
                    <li><a href="/category/space-snakes-prototype.html">Space Snakes : Prototype</a></li>
                    <li><a href="/category/tower-defense.html">Tower Defense</a></li>
                    <li><a href="/category/unity-masters.html">Unity Masters</a></li>
            </ul>
        </li>
        <li><a href="/tag/tutorial.html">Tutorials</a></li>
        <li><a href="/archives.html">Blog</a></li>
        <li><a href="/static_pages/about.html">About</a></li>
    </ul>
</nav>
    </div>
</div>
    <!-- Main -->
        <div id="main-wrapper">
            <div class="container">
                <div class="row">
                    <div class="8u">

                        <!-- Content -->
                            <article class="box post">
                                <a href="#" class="image featured">
                                    <img onerror="this.parentNode.parentNode.removeChild(this.parentNode);"
                                         src="/theme/images/post-header/nauticus-map-generation.jpg" alt="" />
                                </a>
                                <header>
                                    <h2>Using Cellular Automata to Create a Random Map Generator</h2>
                                    <p>Mon 31 March 2014</p>
                                </header>
                                <h2>Introduction to Cellular Automata</h2>

<p>A cellular automaton consists of a grid of cells, each in one of a finite number of states, such as on and off. The grid can be in any finite number of dimensions. For each cell, a set of cells called its neighborhood is defined relative to the specified cell. An initial state is selected by assigning a state for each cell. A new generation is created, according to some fixed rule that determines the new state of each cell in terms of the current state of the cell and the states of the cells in its neighborhood. </p>

<h2>The Game of Life</h2>

<p>In the classic model of Cellular Automata (CA) Conway’s Game of Life, the cells follow four simple rules. <p>

<ol>
    <li>Any live cell with fewer than two live neighbors dies, as if caused by under-population.</li>
    <li>Any live cell with two or three live neighbors lives on to the next generation.</li>
    <li>Any live cell with more than three live neighbors dies, as if by overcrowding.</li>
    <i>Any dead cell with exactly three live neighbors becomes a live cell, as if by reproduction.</li>
</ol>

<p>These simple rules ended up evolving complex patterns capable of motion and self-replication.So, if we take the ideas from this and apply them to map generation we should be able to create unique worlds for players to explore.</p>

<h2>Applying CA to Map Generation</h2>

<p>In Conway’s Game of Life the cell is either alive or dead and always stays in one location (Although patterns can give the appearance of motion). For map generation we are going to create agents to move fromtheir current cell to one of the neighboring cells.</p>

<h3>Creating Agents</h3>

<p>Agents work with a given set of rules. The rules of an agent are determined by what you want that agent to accomplish. Maybe you want an agent that can create meandering rivers, lakes, or mountain ranges. Rules can be developed to create all of these things. For this example we are only going to create on set of rules for all of our tile types.</p>

<p>We want our agents to create groupings of tiles that are the same, while still having an element of randomness. To accomplish this we have 2 simple rules.</p>

<ul>
    <li>An agent can only move to a neighboring tile that is not the same type that the agent is creating.</li>
    <li>An agent is more likely to move to a tile if that tile has more neighboring tiles of the agent’s type.</li>
</ul>


<h3>Initial State</h3>

<p>Initially I fill my map with one tile type, grass. Then I create a random number of Tree Agents, Mountain Agents, and Water Agents and place them randomly on the map.</p>

<p>Each agent is given a number of times they are allowed to move. When they run out of moves or they can’t find a new place to move to, they are killed. The maps that are created can be varied by changing the number of agents that are used or by changing the number of times they are allowed to move. I start by filling a percentage of the map with agents and then give them a random number from a range to determine how far they can move.</p>

<h3>Examples</h3>

<p>Here are two example maps that my agents created. The larger map is 200x200 and the smaller map is 50x50.</p>

<img src="/theme/images/random_map_generation_1.png" style="width: 95%;" />

<img src="/theme/images/random_map_generation_2.png" style="width: 95%;" />

<p>
<strong>Cell</strong> A cell is a location inside the Map that contains a cell type that is manipulated by an agent.<br><br>
<strong>Cell Type</strong> The type of cell it is. Our cells have the following types Grass, Mountain, Water, and Tree.<br><br>
<strong>Map</strong> The map is a 2-demensinal plane that is separated into an NxM matrix of cells.<br><br>
<strong>Neighborhood/Neighbors</strong> The neighborhood of a cell consists of any cell that is touching or diagonal to the current cell.<br><br>
                                <hr>
                                <p>Posted to: <a href="/category/nauticus.html">Nauticus</a></p>
    <p>
            <a href="/tag/nauticus.html" class="tag" style="color:black; text-decoration: none;"><i class="fa fa-tag"></i> nauticus</a><br>
            <a href="/tag/map-generation.html" class="tag" style="color:black; text-decoration: none;"><i class="fa fa-tag"></i> map-generation</a><br>
    </p>
                            </article>

                    </div>
                    <div class="4u">

                        <!-- Sidebar -->
                            <section class="box">
                                <a href="/author/matt.html" class="image featured"><img src="/theme/images/author-portrait/Matt.jpg" alt="" /></a>
                                <header>
                                    <h3>Matt</h3>
                                </header>
                                <p>
                                        Hey guys, this is Matt!
                                </p>
                                <footer>
                                    <a href="/author/matt.html" class="button alt">My Articles</a>
                                </footer>
                            </section>
                            <section class="box">
                                <header>
                                    <h3>Latest Tweets</h3>
                                </header>

                                <a class="twitter-timeline" data-dnt="true" href="https://twitter.com/Final_Parsec" data-widget-id="564606085340729344">Tweets by @Final_Parsec</a>
                                <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
                            </section>
                    </div>
                </div>
            </div>
        </div>

    <!-- Footer -->
        <div id="footer-wrapper">
            <section id="footer" class="container">
                <div class="row">
                    <div class="8u">
                            <section id="content" class="body">
                                <header><h2>Related articles</h2></header>
                                <ul class="dates">
                                        <li>
                                            <span class="date">Oct <strong>02</strong></span>
                                            <h3><a href="/tower-defense-interfacing-with-the-map.html">Tower Defense Tutorials Part 2: Interfacing with the Map</a></h3>
                                            <p><p>The second video tutorial of a series which takes you through the process of building a tower defense game.</p></p>
                                        </li>
                                        <li>
                                            <span class="date">Aug <strong>17</strong></span>
                                            <h3><a href="/unity-animator-state-machine-tutorial.html">Unity Animator State Machine Tutorial</a></h3>
                                            <p><p>Technical talk from Matt Bauer about Unity animator state machines in Nauticus Act III. Simplify Unity state machines into manageable sub-components.</p></p>
                                        </li>
                                        <li>
                                            <span class="date">Sep <strong>28</strong></span>
                                            <h3><a href="/tower-defense-no-gameobject-grid.html">Announcing the Tower Defense Tutorial Video Series!</a></h3>
                                            <p><p>The first video tutorial of a series which takes you through the process of building a tower defense game.</p></p>
                                        </li>
                                        <li>
                                            <span class="date">Jun <strong>22</strong></span>
                                            <h3><a href="/nauticus-alpha-screenshots.html">Nauticus Alpha Screenshots</a></h3>
                                            <p><p>A first look at Nauticus, Final Parsec's upcoming pirate adventure.</p></p>
                                        </li>
                                        <li>
                                            <span class="date">Jan <strong>13</strong></span>
                                            <h3><a href="/a-star-visualization.html">A* Pathfinding Visualization</a></h3>
                                            <p><p>See A* pathfinding visualized in your browser.</p></p>
                                        </li>
                                </ul>
                            </section>
                    </div>

<div class="4u">
    <section>
        <header>
            <h2>What's a Final Parsec?</h2>
        </header>
        <a href="#" class="image featured"><img src="/theme/images/final_parsec.jpg" alt="" /></a>
        <p>
            <strong>Final Parsec</strong> is an up and coming indie game development studio in North Texas.
        </p>
        <p>
            Our game development team consists of<br>
            <a href="/author/matt.html">Matt Bauer</a>, <a href="/author/baer.html">Baer Bradford</a>, and <a href="/author/tj.html">TJ Brosnan</a>.
        </p>
        <footer>
            <a href="/static_pages/about.html" class="button">Find out more</a>
        </footer>
    </section>

    <section>
        <header>
            <h2>Social</h2>
        </header>
        <ul class="social">
            <li><a class="icon fa-twitter" href="https://twitter.com/Final_Parsec"><span class="label">@FinalParsec</span></a></li>
            <li><a class="icon fa-youtube" href="https://www.youtube.com/channel/UCHcxGunEdEPlgq5JulJ2fYQ"><span class="label">Tutorials & Streams</span></a></li>
        </ul>
    </section>
</div>                </div>

<div class="row">
    <div class="12u">

        <!-- Copyright -->
            <div id="copyright">
                <ul class="links">
                    <li>&copy; 2015 Final Parsec - All Rights Reserved</li>
                </ul>
            </div>
    </div>
</div>            </section>
        </div>
</body>
</html>