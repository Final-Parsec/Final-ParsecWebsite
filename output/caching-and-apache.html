<!DOCTYPE HTML>
<!--
	forked from:
	Dopetrope by HTML5 UP
	html5up.net | @n33co
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Caching and Apache</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<!--[if lte IE 8]><script src="/theme/css/ie/html5shiv.js"></script><![endif]-->
        <script type="application/javascript">
            var FINAL_PARSEC_THEME_STATIC_DIR = '/theme' + '/';
        </script>
		<script src="/theme/js/jquery.min.js"></script>
		<script src="/theme/js/jquery.dropotron.min.js"></script>
		<script src="/theme/js/skel.min.js"></script>
		<script src="/theme/js/skel-layers.min.js"></script>
		<script src="/theme/js/init.js"></script>
		<noscript>
			<link rel="stylesheet" href="/theme/css/skel.css" />
			<link rel="stylesheet" href="/theme/css/style.css" />
			<link rel="stylesheet" href="/theme/css/style-desktop.css" />
		</noscript>
		<!--[if lte IE 8]><link rel="stylesheet" href="/theme/css/ie/v8.css" /><![endif]-->

        <!-- For Unity Web Player -->
        <script type="text/javascript" src="//webplayer.unity3d.com/download_webplayer-3.x/3.0/uo/UnityObject2.js"></script>
        <![if IE]>
        <script type='text/javascript'>
        if(/*@cc_on!@*/false)
        var bIsIE = 1;
        </script>
        <![endif]>
        <script language="javascript1.1" type="text/javascript">
            function detectUnityWebPlayer () {
                var tInstalled = false;
                if (typeof (bIsIE) != 'undefined') {
                    tInstalled = true;
                }
                if (navigator.userAgent.indexOf('MSIE') !== -1 || navigator.appVersion.indexOf('Trident/') > 0) {
                   // MSIE
                    tInstalled = true;
                }

                if (navigator.appVersion.indexOf("MSIE") != -1 &&
                    navigator.appVersion.toLowerCase().indexOf("win") != -1)
                {
                    tInstalled = detectUnityWebPlayerActiveX();
                }
                else if (navigator.mimeTypes && navigator.mimeTypes["application/vnd.unity"])
                {
                    if (navigator.mimeTypes["application/vnd.unity"].enabledPlugin &&
                        navigator.plugins && navigator.plugins["Unity Player"])
                    {
                        tInstalled = true;
                    }
                }
                return tInstalled;
            }
        </script>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-37270839-4', 'auto');
            ga('require', 'displayfeatures');
            ga('send', 'pageview');
        </script>
	</head>
<body class="right-sidebar">
<!-- Header -->
<div id="header-wrapper">
    <div id="header">

        <!-- Logo -->
        <h1><a href="/index.html">FINAL PARSEC</a></h1>

<!-- Nav -->
<nav id="nav">
    <ul>
        <li><a href="/index.html">Home</a></li>
        <li>
            <a href="#" onclick="return false;">Games</a>
            <ul>
                    <li><a href="/category/nauticus.html">Nauticus</a></li>
                    <li><a href="/category/space-snakes-legacy-earth.html">Space Snakes: Legacy Earth</a></li>
                    <li><a href="/category/space-snakes-prototype.html">Space Snakes : Prototype</a></li>
                    <li><a href="/category/tower-defense.html">Tower Defense</a></li>
                    <li><a href="/category/unity-masters.html">Unity Masters</a></li>
            </ul>
        </li>
        <li><a href="/tag/tutorial.html">Tutorials</a></li>
        <li><a href="/archives.html">Blog</a></li>
        <li><a href="/static_pages/about.html">About</a></li>
    </ul>
</nav>
    </div>
</div>
    <!-- Main -->
        <div id="main-wrapper">
            <div class="container">
                <div class="row">
                    <div class="8u">

                        <!-- Content -->
                            <article class="box post">
                                <a href="#" class="image featured">
                                    <img onerror="this.parentNode.parentNode.removeChild(this.parentNode);"
                                         src="/theme/images/post-header/caching-and-apache.jpg" alt="" />
                                </a>
                                <header>
                                    <h2>Caching and Apache</h2>
                                    <p>Mon 23 February 2015</p>
                                </header>
                                <p>As you may or may not have noticed, our website is entirely comprised of static files.
We do this despite the fact that our site has a large amount of somewhat dynamic content (for instance, the blog you're reading right now).
This is accomplished by using a static site generator (<a href="http://docs.getpelican.com/">Pelican</a>) and letting Apache serve the output straight off the file system.
The primary benefits include:
<ul class=default>
    <li>Tracking changes and entire history of the site is as easy as keeping it under version control.</li> 
    <li>No server side scripting or processing to speak of.</li>
    <li>We don't need to query a database.</li>
</ul>
These last two help cut down on the response time when a user requests content which is vitally important.</p>
<p>One side effect of taking this approach is that browsers can pretty aggressively cache the resources that compose your site.
This can either be a really good or really bad thing depending on the nature of your site.
Browsers caching your content can result in very quick render times, but users may be looking at stale content.
As I mention earlier in the article, our site changes frequently as we update it with new posts and such.
This means a user seeing stale content is a problem for us.</p>
<p>There are several ways you can tell a browser to avoid caching (or at least check for an updated version) primarily through the use of HTTP headers.
The header we're going to be interested in is the <strong>cache-control</strong> header.
A few others headers exist to manipulate caching behavior. If you want to dive into more information, <a href="http://www.mobify.com/blog/beginners-guide-to-http-cache-headers/">take a look at this blog post</a>.</p>
<p>We can use the Apache module <a href="http://httpd.apache.org/docs/2.2/mod/mod_expires.html">mod_expires</a> to manipulate this header.</p>
<p>Prior to enabling this module, you'll want to add rules to your virtual host file (you can also put this configuration information in <strong>.htaccess</strong>).
Our rules allow clients to cache content for 1 month with the exception of <strong>html</strong> files.
These expire immediately requiring the browser to check with our server before using a cached version of the content.
Using this strategy, we get the benefits of caching where it matters (larger files like images and frequently requested files like CSS) while getting the guarantee users will always see fresh content.</p>
<pre class='apply-line-numbers'><code class='hljs apache'>&lt;IfModule mod_expires.c&gt;
    ExpiresActive on
    ExpiresDefault          "access plus 1 month"

    ExpiresByType text/html "access plus 0 seconds"
&lt;/IfModule&gt;
</code></pre>

<p>Once you've modified your configuration, enable the mod_expires module.
<pre class='apply-line-numbers'><code class='hljs bash'></code>sudo a2enmod expires</pre></p>
<p>Then restart apache to ensure your changes take effect.
<pre class='apply-line-numbers'><code class='hljs bash'></code>sudo service apache2 restart</pre></p>
                                <hr>
                                <p>Posted to: <a href="/category/space-snakes-legacy-earth.html">Space Snakes: Legacy Earth</a></p>
    <p>
            <a href="/tag/web-dev.html" class="tag" style="color:black; text-decoration: none;"><i class="fa fa-tag"></i> web-dev</a><br>
            <a href="/tag/tutorial.html" class="tag" style="color:black; text-decoration: none;"><i class="fa fa-tag"></i> tutorial</a><br>
            <a href="/tag/apache.html" class="tag" style="color:black; text-decoration: none;"><i class="fa fa-tag"></i> apache</a><br>
            <a href="/tag/cache.html" class="tag" style="color:black; text-decoration: none;"><i class="fa fa-tag"></i> cache</a><br>
    </p>
                            </article>

                    </div>
                    <div class="4u">

                        <!-- Sidebar -->
                            <section class="box">
                                <a href="/author/baer.html" class="image featured"><img src="/theme/images/author-portrait/Baer.jpg" alt="" /></a>
                                <header>
                                    <h3>Baer</h3>
                                </header>
                                <p>
                                        Director of Snacks
                                </p>
                                <footer>
                                    <a href="/author/baer.html" class="button alt">My Articles</a>
                                </footer>
                            </section>
                            <section class="box">
                                <header>
                                    <h3>Latest Tweets</h3>
                                </header>

                                <a class="twitter-timeline" data-dnt="true" href="https://twitter.com/Final_Parsec" data-widget-id="564606085340729344">Tweets by @Final_Parsec</a>
                                <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
                            </section>
                    </div>
                </div>
            </div>
        </div>

    <!-- Footer -->
        <div id="footer-wrapper">
            <section id="footer" class="container">
                <div class="row">
                    <div class="8u">
                            <section id="content" class="body">
                                <header><h2>Related articles</h2></header>
                                <ul class="dates">
                                        <li>
                                            <span class="date">Mar <strong>15</strong></span>
                                            <h3><a href="/parallax-for-dummies.html">Parallax for Dummies</a></h3>
                                            <p><p>An enlightening guide on how to create a simple parallax effect in Unity. Using parallax is a really cool way to breathe life into your games.</p></p>
                                        </li>
                                        <li>
                                            <span class="date">Oct <strong>02</strong></span>
                                            <h3><a href="/tower-defense-interfacing-with-the-map.html">Tower Defense Tutorials Part 2: Interfacing with the Map</a></h3>
                                            <p><p>The second video tutorial of a series which takes you through the process of building a tower defense game.</p></p>
                                        </li>
                                        <li>
                                            <span class="date">Aug <strong>17</strong></span>
                                            <h3><a href="/unity-animator-state-machine-tutorial.html">Unity Animator State Machine Tutorial</a></h3>
                                            <p><p>Technical talk from Matt Bauer about Unity animator state machines in Nauticus Act III. Simplify Unity state machines into manageable sub-components.</p></p>
                                        </li>
                                        <li>
                                            <span class="date">Sep <strong>28</strong></span>
                                            <h3><a href="/tower-defense-no-gameobject-grid.html">Announcing the Tower Defense Tutorial Video Series!</a></h3>
                                            <p><p>The first video tutorial of a series which takes you through the process of building a tower defense game.</p></p>
                                        </li>
                                        <li>
                                            <span class="date">Feb <strong>15</strong></span>
                                            <h3><a href="/legacy-earth-ship-movement.html">Ship Movement Tutorial</a></h3>
                                            <p><p>Video tutorial about ship and camera movement in a rail shooter built with Unity3d.</p></p>
                                        </li>
                                </ul>
                            </section>
                    </div>

<div class="4u">
    <section>
        <header>
            <h2>What's a Final Parsec?</h2>
        </header>
        <a href="#" class="image featured"><img src="/theme/images/final_parsec.jpg" alt="" /></a>
        <p>
            <strong>Final Parsec</strong> is an up and coming indie game development studio in North Texas.
        </p>
        <p>
            Our game development team consists of<br>
            <a href="/author/matt.html">Matt Bauer</a>, <a href="/author/baer.html">Baer Bradford</a>, and <a href="/author/tj.html">TJ Brosnan</a>.
        </p>
        <footer>
            <a href="/static_pages/about.html" class="button">Find out more</a>
        </footer>
    </section>

    <section>
        <header>
            <h2>Social</h2>
        </header>
        <ul class="social">
            <li><a class="icon fa-twitter" href="https://twitter.com/Final_Parsec"><span class="label">@FinalParsec</span></a></li>
            <li><a class="icon fa-youtube" href="https://www.youtube.com/channel/UCHcxGunEdEPlgq5JulJ2fYQ"><span class="label">Tutorials & Streams</span></a></li>
        </ul>
    </section>
</div>                </div>

<div class="row">
    <div class="12u">

        <!-- Copyright -->
            <div id="copyright">
                <ul class="links">
                    <li>&copy; 2015 Final Parsec - All Rights Reserved</li>
                </ul>
            </div>
    </div>
</div>            </section>
        </div>
</body>
</html>